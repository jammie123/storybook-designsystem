import { Meta, Typeset } from '@storybook/addon-docs/blocks';


<Meta title="2. Guideline/Forms" /> 


# Jak na formuláře

## Obecné pravidla
- Eliminovat počet vyplňovaných polí
- Povinná a volitelná pole
    - Povinné pole označujeme červenou hvězdou, studie říkají že hvězdička by se měla ještě umístit před label.
- Logické seskupování polí, které k sobě patří popř. pojmenovávání skupin ke zvýšení čitelnosti u delších formulářů
- Dodržovat přístupnost (ovládání z klávesnice)
- Ideálně když šířka inputu přibližně odpovídá délce vstupu. (např. 5 znakové PSČ, idálně šířku na 5 znaků)
- Snažte se eliminovat dropdowny, když je počet možností menší než 4 radši použijte přepínače (radiobutton).
    - Přepínače mají nižší kognitivní zatížení, protože zviditelňují všechny možnosti natolik, aby je uživatelé mohli snadno porovnat. 
- Pokud vstup vyžaduje specifikcý formát nebo pravidla např. politika hesla, PSČ, telefoní číslo atd. Sdělte je uživatelovi předem.
- Poskytněte dostatečně viditelné chybové hlášky.
- Vyvarujte se používat label jako placeholder
    - Když uživatel začne psát, placeholder zmizí a nápovědný text k inputu je zracen, uživatel musí smazat text, aby zjistil o jaké pole jde. U krátkých často vyplnovaných formulářích k problémům, že neznám pole moc nedochází, ale dlouhé formuláře, které uživatel nevyplnuje často.
    - Ve chvíli kdy placeholder zmizí při focusu na input, tak je to velmi nepohodlné při ovládání z klávesnice. Po stisknutí "tabu" nevím, co je to za input.
- Jak pracovat s labelem, placeholdrem a help textem
    - Ideálně použít label nad inputem zarovnaný doleva, můžeme použít label zarovnaný vedle inputu. 
    - Placeholder použijte v inputu, jako ukázku, co má přijít na vstup (PSČ: 14700, VIN: 5N1AN0NW1AC500442) nepoužívjete jako label, používjete anonymní hodnoty, používejte kde to má smysl.

# Používání selectů
Select je formulářový prvek, který slouží k výběru z jedné hodnoty z několika. 
- https://uxmovement.com/forms/stop-misusing-select-menus/

### Kdy použít select ?
- Při menším počtu možností než 4-5 se doporučuje použít (radiobuton).
- Při větším počtu možností více než 15 se doporučuje použít normální textfield s možností zadat vlastní vstup uživatele.
- Používejte labely logicky, vždy popište z čeho uživatelé vybírají
    - Label = Typ zpětné vazby
    - Label inside = Vyberte typ zpětné vazby
- Nepoužívejte generické popisky, např. prosím vyberte
- Default hodnoty v selectu, dávají smysl pouze a tehdy když víme, že 90% uživatelů by vyplnilo tuto hodnotu. V případě vyplnění defaultní hodnoty se může vzniknout chybovst, protože uživatelé přehlídnou vyplněné pole. 


# Umístění tlačítek
Umístění tlačítke je velké téma, kterým se zabývalo už hodně výzkumů. Zajímavé, že každá platforma OS se chová k umístění tlačítek jinak. Často záleží na kontextu a situaci, ale důvody a jistá doporučení existujou.
- https://adamsilver.io/articles/where-to-put-buttons-on-forms/
- https://www.lukew.com/ff/entry.asp?571
- https://uxmovement.com/forms/where-to-align-form-buttons-on-different-layouts/

### Umístění tlačítek na webových formulářích, jako samostatná stránka. 
- Primární tlačítko by mělo být nalevo pod formulářem.
- Tlačítko zpět, nejideálněji umístit nad formulář a dole bude jenom primární tlačítko. 
    - Existují alternativy umístit tlačítko "zpět" doleva od od primárního tlačítka a nebo dolů pod primární tlačítko.
    - Volební formulář u vladní služby GOV.UK umístila na formuláři tlačítko zpět nad formulář a dole pod formulářem bylo pouze primární tlačítko.
- Tlačítka které ovlivňují chování např. celý formulář nebo tabulku umistěte nad formulář. Např. funkce vyber všechny položky.
- V některých formulářích, kde je jeden vstup umistěte tlačítko vedle vstupu. Jedná se např o hledání nebo vkládání PIN kodu. 


### V dialogu akční tlačítko "OK" funguje líp napravo
http://uxmovement.com/buttons/why-ok-buttons-in-dialog-boxes-work-best-on-the-right
- S tlačítkem „Ok“ na pravé straně jsou vizuální fixace menší a plynou jedním směrem
- Primární tlačítko nalevo způsobí, že nejprve uvidí primární akci vlevo a poté se podívají na sekundární akci vpravo. Pak přesunou oči zpět k primární akci, aby na ni klikli. Tím se vytvoří celkem tři vizuální fixace ve více směrech.
- Když uživatelé kliknou na tlačítka sekundární akce, očekávají, že aplikace neudělá nic a vrátí je zpět na původní obrazovku. Tlačítka „Zrušit“ tedy fungují jako tlačítka „Zpět“.
- Když uživatelé kliknou na tlačítka primární akce, očekávají, že aplikace provede akci, kterou tlačítko říká, a přesune je na další obrazovku. Tlačítka „Ok“ tedy fungují jako tlačítka „Další“. Umístění tlačítka sekundární akce vlevo a tlačítka primární akce na pravé mapě k funkcím tlačítka „Zpět“ a „Další“, které může uživatel očekávat.



# Validace formulářů
### Inline validace na klientu

Doporučený přístup je validovat formulář v reálném čase před odesláním formuláře. Ideální je použít validaci na klientu, k validaci dochází ztrátou focusu z inputu, když zjistíme, že input nespňuje kritéria např: 
- poviný input
- není kompletní email
- krátký heslo

zobrazíme inline error stav inputu. Uživatel by tento stav měl rozpoznat a opravit.



### Serverová validace
Né vždy jde použít inline validace na klientu a je nutné poslat dotaz s formulářem na server. Když uživatel odešle formulář s daty nabízí se použít spinner na čekání odpovědi od serveru a v případě, že server odpoví chybou zobrazit komponentu Status message(chybový stav).

---

### Disablování prvků ve formuláři
- U krátkých formulářů, kde jsou nutné vyplnit povinná pole se nabízí použít deaktivování tlačítka pro primární akce. Zamezí se zobrazení chybové hlášky.
- U delších formulářů nezakazujte tlačítka primární akce, protože chybové zprávy a tlačítko primární akce nemusí být na obrazovce viditelné současně.
- Pokud zpracování formuláře bude nějakou dobu trvat, sdělte to uživateli pomocí Status message nebo nějakým ukazatelem průběhu (např. Spinner)

# Rozvržení layoutu formuláře (sloupce)
Ideální rozložení formuláře je jeden sloupec, protože je jeden sloupec se velmi doře skenuje, bohužel při delších formulářích tento přístup zabere více prostoru. V případě že stránka má více volného místa nabízí se využít vícero sloupců (2-3) v určitých situacích jsou vhodné, ale vždy používejte zdravý rozum k seskupení souvisejících polí vodorovně. Dva až tři vstupy na jedné lince nezpůsobí problémy, pokud logicky patří k sobě. Zde jsou nějaké příklady:

- [křestní jméno]  [příjmení]
- [číslo kreditní karty] [datum vypršení platnosti] [bezpečnostní kód]
- [stát] [město]  [PSČ]



---

### Související komponenty
- Input
- Dropdown
- Button
- Notifikace
- Spinner
- Skeleton  

### Zdroje informací
- https://www.nngroup.com/articles/web-form-design/
- https://www.nngroup.com/articles/form-design-placeholders/
- https://www.carbondesignsystem.com/patterns/forms-pattern
    https://www.nngroup.com/articles/required-fields/
    https://www.nngroup.com/articles/checkboxes-vs-radio-buttons/